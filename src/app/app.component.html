<div class="shi-wu-game">
  <h1>SHI WU DRINKING GAME (0-5-15-20)</h1>
  @if (countdown() !== null) {
  <div class="countdown">
    Countdown: {{ countdown() }}
    @if(countdown() === 0) { TRY AGAIN! }
  </div>
  }
  <div class="container">
    <div class="players-container">
      <div class="player-area">
        <h2>CPU</h2>
        <div class="score">Score: {{ cpuScore() }}</div>
        @if(cpuShowingHands() !== null) {
        <div class="hands">
          <div class="left-hand">
            @if(cpuLeftHandOpen()) { &#9995; } @else { &#9994; }
          </div>
          <div class="right-hand">
            @if(cpuRightHandOpen()) { &#9995; } @else { &#9994; }
          </div>
        </div>
        } @else if (promptChooseHands()) {
        <div class="hands">
          <div class="left-hand">&#9994;</div>
          <div class="right-hand">&#9994;</div>
        </div>
        }
        <div class="target">CPU Target: {{ cpuTarget() }}</div>
      </div>
      <div class="player-area">
        <h2>Player</h2>
        <div class="score">Score: {{ playerScore() }}</div>
        @if(playerShowingHands() !== null) {
        <div class="hands">
          <div class="left-hand">
            @if(playerLeftHandOpen()) { &#9995; } @else { &#9994; }
          </div>
          <div class="right-hand">
            @if(playerRightHandOpen()) { &#9995; } @else { &#9994; }
          </div>
        </div>
        } @else if (promptChooseHands()) {
        <div class="hands">
          <div class="left-hand">&#9994;</div>
          <div class="right-hand">&#9994;</div>
        </div>
        }
        <div class="target">Player Target: {{ playerTarget() }}</div>
        <div class="controls">
          @if (promptTargetPicking()) {
          <div class="target-picker">
            <strong> PICK A TARGET: </strong> @for (target of TARGETS; track
            target) {
            <button (click)="actions.PICK_TARGET.next(target)">
              {{ target }}
            </button>

            }
          </div>
          } @else {
          <div class="hand-picker">
            SHOW HANDS @for (hand of HANDS_TO_SHOW; track hand) {
            <button (click)="actions.SHOW_HANDS.next(hand)">{{ hand }}</button>
            }
          </div>
          }
        </div>
      </div>
    </div>
    <div class="results-container">
      @if (result() !== null) {
      <div class="result">Result (Sum): {{ result() }}</div>
      <div
        class="winner"
        [ngClass]="{
          'winner--player': winner() === 'PLAYER',
          'winner--cpu': winner() === 'CPU'
        }"
      >
        @if(winner()) { WINNER: {{ winner() }}
        } @else { TIE }
      </div>
      <br />
      <h3>Pick another target!</h3>
      }
    </div>
  </div>
</div>
